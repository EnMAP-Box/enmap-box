[flake8]
# see https://flake8.pycqa.org/en/latest/user/configuration.html
ignore =
    #
    # allow complex functions
    C901,
    D203,
    # continuation line missing indentation or outdented
    E122,
    E126,
    # allow continuation line over-indented for hanging indent
    E501,
    # allow lambda functions
    E731,
    # allow unused local variables
    F841,
    # Do not pass iface (QgisInterface) as an argument, instead import it: 'from qgis.utils import iface'
    QGS105,
    # allow line break before binary operator
    W503


max-line-length=120
max-complexity = 10

exclude =
    # No need to traverse our git directory
    .git,
    # skip submodules
    enmapbox/qgispluginsupport
    enmapbox/apps/lmuapps
    # skip external applications (too much work)
    enmapbox/apps  # external code
    enmapbox/coreapps/_classic  # will be removed soon
    enmapbox/coreapps/enmapboxapplications  # will be removed soon
    site-packages
    # There's no value in checking cache directories
    __pycache__,
    deploy
    test-reports,
    test-outputs,
    qgisresources
    # skip autogenerated files
    *_rc.py
    tests/testdata/__init__.py

    # no need to check GEE collection definitions
    enmapbox/coreapps/geetimeseriesexplorerapp/user_collections
    enmapbox/coreapps/geetimeseriesexplorerapp/standard_collections


per-file-ignores =
    #  QGS104 Use 'import qgis.PyQt.pyrcc_main' instead of 'import PyQt5.pyrcc_main'
    # just not available in OSGeo4W installations
    # script should run immediately which site.addsitedir(REPO) before other imports
    scripts/*.py : E402
    enmapbox/eo4qapps/geetimeseriesexplorerapp/*.py : F821
    enmapbox/__main__.py: E402
    enmapbox/gui/__init__.py: F401
    enmapbox/gui/utils.py: F401
    # does not work: from qgis.PyQt.Qsci import QsciScintilla, QsciLexerPython'
    # instead of 'from PyQt5.Qsci import QsciScintilla, QsciLexerPython'
    enmapbox/gui/widgets/codeeditwidget.py: QGS103
